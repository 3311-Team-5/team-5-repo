<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Techlog</title>
    <script type="module" src="firebase/Components/firebase.js"></script>
    <script type="module" src="firebase/Components/auth.js"></script>
    <script type="module" src="firebase/Components/device.js"></script>
  </head>
  <body>
    <div id="cards">
      <h3>CARD PAGE</h3>

      <div id="computerAttributes">
        <!-- Display computer attributes here -->
        <p id="cpu"></p>
        <p id="ram"></p>
        <p id="computerType"></p>
        <p id="model"></p>
      </div>

      <button id="editButton">Edit</button>
      <button id="homeButton">Back to Home</button>

      <script type="module">
        import { getComputerDetails } from './firebase/Components/device.js';

        // Add event listener for the "Back to Home" button
        const homeButton = document.getElementById("homeButton");
          homeButton.addEventListener("click", () => {
            window.location.href = "../../index.html";
          });
          
        document.addEventListener("DOMContentLoaded", () => {
          const params = new URLSearchParams(window.location.search);
          const clientName = params.get("client");
          const locationName = params.get("location");
          const computerName = params.get("computer");

          console.log("Values passed into function: ", clientName, locationName, computerName);
          // Use the extracted information to fetch and display computer details
          const computerDetails = getComputerDetails(clientName, locationName, computerName);
          console.log("Computer Details:", computerDetails);

          // Display computer attributes on the page
          if (computerDetails) {
            document.getElementById("cpu").innerText = `CPU: ${computerDetails.cpu}`;
            document.getElementById("ram").innerText = `RAM: ${computerDetails.ram}`;
            document.getElementById("computerType").innerText = `Computer Type: ${computerDetails.computerType}`;
            document.getElementById("model").innerText = `Model: ${computerDetails.model}`;
          } else {
            // Handle the case where computer details are not available
            console.error("Computer details not available");
          }

          // Add event listener for the "Edit" button
          const editButton = document.getElementById("editButton");
          editButton.addEventListener("click", () => {
            // Implement logic for editing computer details
            // You can redirect to another page for editing or show a form on the same page
          });

          
        });
      </script>
    </div>
  </body>
</html>
