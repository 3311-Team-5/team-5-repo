<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Techlog</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="module" src="firebase/Components/auth.js"></script>
    <script type="module" src="firebase/Components/firebase.js"></script>
    <script type="module" src="firebase/Components/location.js"></script>
    <link rel="stylesheet" type="text/css" href="smallUIFixes copy.css"> 
  </head>
  <body>
    <div>
        <div>
            <div id="card-nav">
                <nav class="navbar navbar-default">
                  <div class="container-fluid">
                    <div class="navbar-header">
                      <a class="navbar-brand">WebSiteName</a> 
                      <!-- PUT LOGO HERE^^^^^^^^^^^^^^^ -->
                    </div>
                    <ul class="nav navbar-nav">
                      <li id="back"><a href="../../index.html">Back</a></li>
                      <!-- <li id="signOut"><button id="signOutButton">Sign Out</button></li> -->
                    </ul>
                  </div>
                </nav>
            </div>

            <div id="location_page">
                <br><br>
        
                <h4 style="color: #FFFFFF; background-color: black;">Locations:</h4>
                
                <ul id="Location-List" class="Location-List"></ul>
                <br><br>
                <label for="location">Locations: </label>
                <br><br>
        
                <input type="text" placeholder="Location Name" id="location">
        
                <button id="addLocationButton">Add Location</button>

                <br><br>
            </div>
            <script type="module">
                import { addLocation, displayLocation } from './firebase/Components/location.js';
                const locationList = document.getElementById("Location-List");
                // const computerList = document.getElementById("comp-List");

                let currentClient = "";
                let currLocation = "";

                document.addEventListener("DOMContentLoaded", async () => {
                    const params = new URLSearchParams(window.location.search);
                    const key = params.get("key");
                    const clientName = params.get("clientName");

                    // const clientDetails = await getClientDetails(key, clientName);

                    locationList.innerHTML = "";
                    // computerList.innerHTML = "";
                    displayLocation(key, clientName);
                    currentClient = clientName;
                });

                const locationInput = document.getElementById('location');

                addLocationButton.addEventListener("click", () => {
                  const locationName = locationInput.value.trim();
                    addLocation(currentClient, locationName);
                });
            </script>
        </div>
    </div>
  </body>
</html>
